<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="sketch.css">
</head>
<body>
    
<h1 id="title">Etch a Sketch</h1>

<div class="btn">
<button id="reset">Reset</button>
<button id="black">Black</button>
<button id="rgb">RGB</button>

<div class="colorAndPrompt">
<input type="color" name="" id="color">
<p id="para">pick a colour</p>
</div>

<div class="sliderAndValue">
<input type="range" min="2" max="90" value="16" id="slider">
<p class="value">16</p>
</div>

</div>

<div class="grid"></div>
<footer>Made by: Alli joseph</footer>
</body>


<script>
const grid = document.querySelector(".grid");

function createGrid(){
    for(let i = 0; i < 256; i++){
    const div = document.createElement("div");
    div.classList.add("cell");
    div.addEventListener("mouseover", function(e){
    e.target.style.backgroundColor = 'black'
    })
    grid.appendChild(div)
    }
};


function removeAllChildNodes(parent){
    while(parent.firstChild){
        parent.removeChild(parent.firstChild);
    }
};


function getRandomColor(){
    let letters = "0123456789ABCDEF";
    let color = "#";
    for(let i = 0; i < 6; i++){
      color+= letters[Math.floor(Math.random() * 16)];  
    }
   return color;
};



const slider = document.querySelector("#slider");
const screenVal = document.querySelector(".value");

slider.addEventListener("input", function(){
let val = document.getElementById("slider").value;
screenVal.textContent = val;

removeAllChildNode(grid);
grid.setAttribute("style",`grid-template-columns: repeat(${val}, 2fr); grid-template-rows: repeat(${val}, 2fr);`);

for(let i = 0; i < val*val; i++){
    const div = document.createElement("div");
    div.classList.add("cell");
    
    div.addEventListener("mouseover",function(e){
e.target.style.backgroundColor = "black";
    })

    grid.appendChild(div);
}


});



const reset = document.querySelector("#reset");
reset.addEventListener("click", function(){
    let val = document.getElementById("slider").value;
    let cell = grid.children;
    for(let i = 0; i < val*val; i++){
        cell[i].style.backgroundColor = "white";
    }
});

const rgb = document.querySelector("#rgb");
rgb.addEventListener("click", function(){
    let val = document.getElementById("slider").value;
    let cell = grid.children;
    for(let i = 0; i < val*val; i++){
        cell[i].addEventListener("mouseover", function(e){
e.target.style.backgroundColor = getRandomColor();
        })
    }
});

const black = document.querySelector("#black");
black.addEventListener("click", function(){
    let val = document.getElementById("slider").value;
    let cell = grid.children;
    for(let i = 0; i < val*val; i++){
        cell[i].addEventListener("mouseover", function(e){
        e.target.style.backgroundColor = "black"
        })
    }
});


const chooseColor = document.querySelector("#color");
chooseColor.addEventListener("input", function(){
    let val = document.getElementById("slider").value;
    let newColor = document.getElementById("color").value;
    let cell = grid.children;
    for(let i = 0; i < val*val; i++){
        cell[i].addEventListener("mouseover", function(e){
e.target.style.backgroundColor = newColor
        });
    }
});

createGrid();

</script>
</html>